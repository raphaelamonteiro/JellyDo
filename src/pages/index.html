<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JellyDo - Sua agenda de tarefas inteligente</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/src/style/style.css">
    <link rel="icon" type="image/x-icon" href="/src/assets/images/favicon.png">
    <script type="module" src="/src/js/main.js"></script>
</head>

<body>
    <div class="container">
        <header>
            <div class="nome">
                <h1>JellyDo</h1>
            </div>
            <div class="toggle-container">
                <span class="toggle-text">Modo Claro</span>
                <div class="toggle" id="theme-toggle">
                    <div class="toggle-handle"></div>
                </div>
                <span class="toggle-text">Modo Escuro</span>
            </div>
        </header>

        <div class="main-container">
            <!-- Seção do formulário -->
            <section class="form-section">
                <h2>Adicionar Nova Tarefa</h2>
                <form id="task-form" class="task-form">
                    <!-- Campo Nome -->
                    <div class="form-group">
                        <label for="task-name">Nome da Tarefa:</label>
                        <input type="text" id="task-name" placeholder="Ex: Estudar JavaScript" required>
                    </div>

                    <!-- Campo Categoria -->
                    <div class="form-group">
                        <label for="task-category">Categoria</label>
                        <select id="task-category" required>
                            <option value="">Selecione uma categoria...</option>
                            <option value="trabalho">Trabalho</option>
                            <option value="estudos">Estudos</option>
                            <option value="pessoal">Pessoal</option>
                            <option value="saude">Saúde</option>
                        </select>
                    </div>

                    <!-- Linha com Prioridade e Data -->
                    <div class="form-row">
                        <!-- Prioridade -->
                        <div class="form-group">
                            <label for="task-priority">Prioridade</label>
                            <select id="task-priority" required>
                                <option value="">Selecione a prioridade</option>
                                <option value="alta">Alta</option>
                                <option value="media">Média</option>
                                <option value="baixa">Baixa</option>
                            </select>
                        </div>

                        <!-- Data Limite -->
                        <div class="form-group">
                            <label for="task-date">Data Limite</label>
                            <input type="date" id="task-date" required>
                        </div>
                    </div>

                    <!-- Botão de Submit -->
                    <button type="submit" class="btn-add">
                        <i class="fas fa-plus"></i> Adicionar Tarefa
                    </button>
                </form>
            </section>

            <!-- Seção de tarefas - REMOVA AS TAREFAS ESTÁTICAS -->
            <section class="tasks-section">
                <h2>Suas Tarefas</h2>
                <!-- Adicione esta seção antes do tasks-container -->
                <div class="filters-section">
                    <h3>Filtrar Tarefas</h3>

                    <div class="filters-row">
                        <!-- Filtro por Categoria -->
                        <div class="filter-group">
                            <label for="filter-category">Categoria:</label>
                            <select id="filter-category" class="filter-select">
                                <option value="all">Todas categorias</option>
                                <option value="trabalho">Trabalho</option>
                                <option value="estudos">Estudos</option>
                                <option value="pessoal">Pessoal</option>
                                <option value="saude">Saúde</option>
                            </select>
                        </div>

                        <!-- Filtro por Prioridade -->
                        <div class="filter-group">
                            <label for="filter-priority">Prioridade:</label>
                            <select id="filter-priority" class="filter-select">
                                <option value="all">Todas prioridades</option>
                                <option value="alta">Alta</option>
                                <option value="media">Média</option>
                                <option value="baixa">Baixa</option>
                            </select>
                        </div>

                        <!-- Filtro por Status -->
                        <div class="filter-group">
                            <label for="filter-status">Status:</label>
                            <select id="filter-status" class="filter-select">
                                <option value="all">Todas</option>
                                <option value="pending">Pendentes</option>
                                <option value="completed">Concluídas</option>
                            </select>
                        </div>

                        <!-- Ordenação -->
                        <div class="filter-group">
                            <label for="filter-sort">Ordenar por:</label>
                            <select id="filter-sort" class="filter-select">
                                <option value="date">Data</option>
                                <option value="priority">Prioridade</option>
                                <option value="name">Nome</option>
                                <option value="completed">Status</option>
                            </select>
                        </div>

                        <!-- Botão de Limpar Filtros -->
                        <div class="filter-group">
                            <button id="clear-filters" class="btn-filter">
                                <i class="fas fa-times"></i> Limpar Filtros
                            </button>
                        </div>
                    </div>
                </div>

                <div id="tasks-container" class="tasks-container">
                    <!-- As tarefas serão carregadas dinamicamente pelo JavaScript -->
                </div>
            </section>
        </div>
    </div>

    <script>
        // Alternar entre temas
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;
        const toggleTexts = document.querySelectorAll('.toggle-text');

        themeToggle.addEventListener('click', () => {
            body.classList.toggle('modo-escuro');

            // Atualizar texto do toggle
            if (body.classList.contains('modo-escuro')) {
                toggleTexts[0].textContent = 'Modo Escuro';
                toggleTexts[1].textContent = 'Modo Claro';
            } else {
                toggleTexts[0].textContent = 'Modo Claro';
                toggleTexts[1].textContent = 'Modo Escuro';
            }

            // Salvar preferência no localStorage
            localStorage.setItem('theme', body.classList.contains('modo-escuro') ? 'dark' : 'light');
        });

        // Verificar preferência salva
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            body.classList.add('modo-escuro');
            toggleTexts[0].textContent = 'Modo Escuro';
            toggleTexts[1].textContent = 'Modo Claro';
        }
    </script>
</body>

</html>